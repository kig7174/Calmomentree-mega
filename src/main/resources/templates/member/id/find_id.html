<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{/fragments/head :: calm-head('아이디 찾기')}"></th:block>
    <link rel="stylesheet" th:href="@{/assets/css/member.css}" />
</head>
<body>
    <header th:replace="~{/fragments/common :: calm-header}"></header>

    <div class="container">
        <div th:replace="~{/fragments/common :: calm-search}"></div>
        <div th:replace="~{/fragments/common :: calm-search-bg}"></div>
        <div th:replace="~{/fragments/common :: calm-top-btn}"></div>
        <div class="join-body">
            <div class="head-title">
                <p>Find ID<span>아이디가 기억나지 않으세요?</span></p>
            </div>
            <div class="join-form">
                <form method="" action="">    
                    <div class="find-method">
                        <p>인증방법 선택</p>
                        <input type="radio" name="find-method" id="find-method1" checked />
                        <label for="find-method1">이메일</label>

                        <input type="radio" name="find-method" id="find-method2" />
                        <label for="find-method2">휴대폰번호</label>

                    </div>

                    <div class="selected-find-method1">
                        <div class="name-box input-box">
                            <input type="text" name="user_name" placeholder="이름"/>
                        </div>

                        <div class="email-box input-box">
                            <input type="email" name="email" placeholder="이메일"/>
                        </div>
                    </div>

                    <div class="selected-find-method2 displaynone">
                        <div class="name-box input-box">
                            <input type="text" name="user_name" placeholder="이름"/>
                        </div>

                        <div class="tel-box input-box">
                            <input type="text" name="tel1" maxlength="3" class="tel" placeholder="010" />
                            -
                            <input type="text" name="tel2" maxlength="4" class="tel" placeholder="0000" />
                            -
                            <input type="text" name="tel3" maxlength="4" class="tel" placeholder="0000" />
                        </div>
                    </div>

                    <div class="selected-find-method3 displaynone">
                        <div class="name-box input-box">
                            <input type="text" name="user_name" placeholder="이름"/>
                        </div>

                    </div>

                    <button type="submit" class="find-btn">아이디 찾기</button>
                </form>
            </div>
        </div>
    </div>

    <!-- <th:block th:replace="~{_fragments/_scripts::my-scripts}"></th:block>
    <script>
        document.getElementById('find-id-form').addEventListener('submit', async (e) => {
            e.preventDefault();

            /** 입력값 유효성 검사 */
                try {
                    regexHelper.value("#user_name", "이름을 입력하세요");
                    regexHelper.value("#email", "이메일 주소를 입력하세요");
                } catch (err) {
                    await utilHelper.alertDanger(err.message);

                    setTimeout(() => err.element.focus(), 1);
                    return;
                }

                const data = await axiosHelper.post('[[@{/api/account/find_id}]]', new FormData(e.currentTarget));

                if (data) {
                    const userName = document.querySelector("#user_name").value;
                    const userId = data.item;

                    document.querySelector(".user-name").innerHTML = userName;
                    document.querySelector(".user-id").innerHTML = userId;

                    document.querySelector(".find-result").style.display = 'block';
                }
        });
    </script> -->

    <footer th:replace="~{/fragments/common :: calm-footer}"></footer>

    <th:block th:replace="~{/fragments/script}"></th:block>

    <script th:inline="javascript">
        const findIdLink = /*[[@{/api/member/find_id}]]*/'';
    </script>
    <script type="text/javascript" th:src="@{/assets/js/find_id.js}" th:inline="javascript"></script>
</body>
</html>